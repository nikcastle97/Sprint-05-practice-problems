<!DOCTYPE html>
<html>
  <head><link rel="stylesheet" href="styles.css"></head>
<body>
  <h1>Building a Component Using a Function</h1>
  <script>
    const posControl = document.body;
    posControl.style.margin = `auto`;
    posControl.style.padding = `3vh`;
    posControl.style.display = `flex`;
    posControl.style.flexFlow = `column`;
    posControl.style.alignItems = `center`;
    posControl.style.justifyContent = `space-around`;
    /*
    PROBLEM 1: Create a function component called buttonMaker that generates an HTML button with the text 'Click Me!'.
    The function should take two parameters: text (a string) representing the text to be displayed on the button,
    and onClick (a function) representing the click event handler for the button.

    When the button is clicked, the handler should console.log('Button Clicked!');
    */

    function buttonMaker(text) {
      const btn = document.createElement(`button`);
      btn.innerText = text;
      btn.addEventListener(`click`, () => {
        console.log(`"${text}" Button Clicked!`);
        return btn;
      })
      document.body.appendChild(btn).classList.add(`btn`);

    }
    const btn1 = buttonMaker(`Click Me!`)
    const btn2 = buttonMaker(`No! Click Me!`)
    const btn3 = buttonMaker(`Nooo! Meeee!`)

    /*
    PROBLEM 2: Write a function component called createCard that generates an HTML card element.
    The function should take three parameters: title (a string) representing the card title,
    description (a string) representing the card description,
    and imageUrl (a string) representing the URL of the image to be displayed in the card.

    Once you write the function, call it with the following parameters:

    createCard('Card Title', 'This is a description of the card.', 'https://example.com/image.jpg');
    */

    function createCard(tit, des, url) {
      const card = document.createElement(`div`);
      card.style.backgroundColor = `black`;
      card.style.color = `white`;
      card.style.padding = `3rem`;
      card.style.display = `flex`;
      card.style.flexDirection = `column`;
      card.style.alignItems = `center`;
      card.style.width = `50%`;

      const cardTit = document.createElement(`h2`);
      cardTit.textContent = tit;

      const cardDes = document.createElement(`p`);
      cardDes.textContent = des;

      const cardImg = document.createElement(`img`);
      cardImg.src = url;

      card.appendChild(cardTit);
      card.appendChild(cardDes);
      card.appendChild(cardImg);

      document.body.appendChild(card).classList.add(`card`);
    }

    createCard(`Card Title`, `This is a description of the card.`, `https://example.com/https://i.pinimg.com/474x/cd/ed/20/cded20a34649a84f912d5ade33585714.jpg.jpg`);


    /*
    PROBLEM 3: Create a function component called toggleVisibility that toggles the visibility of an HTML element.
    The function should take the element's id as its only parameter.
    If the element is currently visible, the function should hide it; if it is hidden, the function should make it visible.
    */

    function togVis(elementID) {
      const element = document.getElementById(elementID);
      element.id = elementID
      if (element.style.display === 'none') {
        element.style.display = 'flex';
      } else {
        element.style.display = 'none';
      }
    }

    // Creating a sample element to demonstrate toggleVisibility
    const sampleElement = document.createElement('div');
    sampleElement.id = 'myElement';
    sampleElement.textContent = 'Toggle me!';
    document.body.appendChild(sampleElement);

    togVis('myElement');
    setTimeout(() => togVis('myElement'), 3000); // Toggle visibility after 2 seconds


    /*
    PROBLEM 4: Create a function component called createForm that creates a simple HTML form from the structure below.
    The function should take no parameters.
    The form should contain two input fields: one for the name (with the ID nameInput)
    and one for the email address (with the ID emailInput).

    STRETCH YOURSELF: Create another function called submitForm
    that checks if both fields are filled in
    and makes the form disappear once the submit button is clicked.

    HINT: You may want to use some components that you created earlier.

    html structure:
    <form>
      <label for="nameInput">Name:</label>
      <input type="text" id="nameInput">

      <label for="emailInput">Email:</label>
      <input type="email" id="emailInput">

      <button type="submit">Submit</button>
    </form>
    */

    function createForm() {
      const form = document.createElement('form');
      form.id = 'form'; // Added ID to the form for toggleVisibility

      const nameLabel = document.createElement('label');
      nameLabel.setAttribute('for', 'nameInput');
      nameLabel.textContent = 'Name:';

      const nameInput = document.createElement('input');
      nameInput.setAttribute('type', 'text');
      nameInput.setAttribute('id', 'nameInput');

      const emailLabel = document.createElement('label');
      emailLabel.setAttribute('for', 'emailInput');
      emailLabel.textContent = 'Email:';

      const emailInput = document.createElement('input');
      emailInput.setAttribute('type', 'email');
      emailInput.setAttribute('id', 'emailInput');

      const submitButton = buttonMaker('Submit', (event) => {
        event.preventDefault();
        submitForm();
      });

      form.appendChild(nameLabel);
      form.appendChild(nameInput);
      form.appendChild(emailLabel);
      form.appendChild(emailInput);
      form.appendChild(submitButton);

      document.body.appendChild(form);
    }

    function submitForm() {
      const nameInput = document.getElementById('nameInput');
      const emailInput = document.getElementById('emailInput');

      if (nameInput.value !== '' && emailInput.value !== '') {
        console.log('Form submitted!');
        nameInput.value = '';
        emailInput.value = '';
        toggleVisibility('form'); // Hide the form after submission
      }
    }

    createForm();

    /*
     PROBLEM 5 (DEBUGGING): The following code is intended to change the background color of a paragraph when the mouse hovers over it. However, the background color does not change as expected when the code is executed. Identify and fix the bug to make the hover effect work correctly.
     */

    const myParagraph = document.getElementById('myParagraph');

    myParagraph.addEventListener('mouseover', function () {
      myParagraph.classList.add('highlight');
    });

    myParagraph.addEventListener('mouseout', function () {
      myParagraph.classList.remove('highlight');
    });

  </script>
</body>

</html>
